{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://semantic-kernel-app/.config/schemas/config.schema.json",
  "title": "Configuration Schema",
  "description": "Master schema for YAML configuration files",
  "type": "object",
  "properties": {
    "metadata": {
      "$ref": "definitions/metadata.schema.json"
    },
    "version": { "type": "string" },
    "category": { "type": "string" },
    "keywords": { "type": "array", "items": { "type": "string" } },
    "updated": { "type": "string" },
    "cross_references": { "type": "array", "items": { "type": "string" } },
    "related_documentation": { "type": "array", "items": { "type": "string" } },

    "gpu": {
      "description": "GPU Configuration or Report Data",
      "oneOf": [
        { "$ref": "definitions/gpu.schema.json#/definitions/gpu_config" },
        { "$ref": "definitions/gpu.schema.json#/definitions/gpu_report" }
      ]
    },

    "system": { "type": "object", "additionalProperties": true },
    "wsl2": { "type": "object", "additionalProperties": true },
    "storage": { "type": "object", "additionalProperties": true },
    "docker": { "type": "object", "additionalProperties": true },
    "images": { "type": "object", "additionalProperties": true },
    "processes": { "type": "object", "additionalProperties": true },
    "critical_issues": { "type": "array" },
    "recommendations": { "type": "object" },
    "validation_commands": { "type": "object" },
    "next_steps": { "type": "object" },

    "resources": {
      "$ref": "definitions/resources.schema.json"
    },
    "service": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "port": { "type": "integer" },
        "resources": { "$ref": "definitions/resources.schema.json" },
        "gpu_enabled": { "type": "boolean" }
      }
    },
    "semantic_kernel": {
      "type": "object",
      "additionalProperties": true
    },
    "python_environment": {
      "type": "object",
      "additionalProperties": true
    }
  }
}
