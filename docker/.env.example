# =====================================================
# Semantic Kernel Application - Environment Variables
# =====================================================
# Copy this file to .env and customize for your environment
# WARNING: Never commit .env file with real credentials!
# =====================================================

# Environment Type
ENVIRONMENT=development  # development, test, production

# =====================================================
# Database Configuration
# =====================================================

# PostgreSQL Connection
DATABASE_HOST=database
DATABASE_PORT=5432
DATABASE_NAME=semantic_kernel
DATABASE_USER=user
DATABASE_PASSWORD=change_this_password_in_production

# Legacy variables (for compatibility)
POSTGRES_DB=semantic_kernel
POSTGRES_USER=user
POSTGRES_PASSWORD=change_this_password_in_production

# Database Seeding (development/test only)
DATABASE_SEED_ENV=development  # development, test, production (production skips seeds)

# =====================================================
# Redis Configuration
# =====================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=change_me_in_production

# =====================================================
# GitHub Runner Configuration
# =====================================================
GITHUB_RUNNER_TOKEN=your_runner_registration_token
GITHUB_REPO_URL=https://github.com/your-org/your-repo

# =====================================================
# Application Configuration
# =====================================================

# ASP.NET Core
ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_URLS=http://+:80

# Backend API
BACKEND_PORT=5000
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:80

# Frontend
FRONTEND_PORT=3000
VITE_API_URL=http://localhost:80/api

# Gateway
GATEWAY_PORT=8080

# =====================================================
# Semantic Kernel Configuration
# =====================================================

# OpenAI API
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_ORG_ID=your_org_id_here  # Optional

# Model Configuration
OPENAI_CHAT_MODEL=gpt-4
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# =====================================================
# Vector Database (Qdrant)
# =====================================================

QDRANT_HOST=vector
QDRANT_PORT=6333
QDRANT_API_KEY=  # Optional for local development
QDRANT_COLLECTION_NAME=semantic_memories

# =====================================================
# Embeddings Service
# =====================================================

EMBEDDINGS_PORT=8001
EMBEDDINGS_MODEL=text-embedding-3-small
EMBEDDINGS_CACHE_ENABLED=true
EMBEDDINGS_BATCH_SIZE=100

# =====================================================
# Security & Authentication
# =====================================================

# JWT Configuration
# SECURITY: Generate a strong random key for production (minimum 256 bits / 32 bytes)
# Example generation: openssl rand -base64 32
JWT_SECRET=change_me_in_production
JWT_SECRET_KEY=change_this_jwt_secret_in_production_minimum_32_characters
JWT_ISSUER=semantic-kernel-app
JWT_AUDIENCE=semantic-kernel-app
JWT_EXPIRATION_MINUTES=60

# Session Configuration
SESSION_TIMEOUT_HOURS=24
SESSION_ABSOLUTE_TIMEOUT_HOURS=168  # 7 days

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL_CHAR=true

# =====================================================
# API Rate Limiting
# =====================================================

# Default Quotas
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000
RATE_LIMIT_REQUESTS_PER_DAY=10000
RATE_LIMIT_TOKENS_PER_DAY=100000

# =====================================================
# Logging & Monitoring
# =====================================================

# Log Levels (Trace, Debug, Information, Warning, Error, Critical)
LOG_LEVEL=Information
LOG_LEVEL_MICROSOFT=Warning
LOG_LEVEL_SYSTEM=Warning

# =====================================================
# Backup Configuration
# =====================================================

BACKUP_DIR=/backups
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=gzip
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# =====================================================
# Docker Configuration
# =====================================================

COMPOSE_PROJECT_NAME=semantic-kernel-app
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# =====================================================
# Development Tools
# =====================================================

# GitHub MCP/PAT
GITHUB_PAT=your_github_personal_access_token_here
GITHUB_MCP_PORT=3001

# DevSite (MkDocs)
DEVSITE_PORT=8080

# Vector store ports
VECTOR_PORT=6333
VECTOR_PORT2=6334

# Admin tools
ADMINER_PORT=8081

# Debug ports
NODE_DEBUG_PORT=9229
DOTNET_DEBUG_PORT=5001

# =====================================================
# Feature Flags
# =====================================================

FEATURE_EMBEDDINGS_ENABLED=true
FEATURE_VECTOR_SEARCH_ENABLED=true
FEATURE_PLANNER_ENABLED=true
FEATURE_AUDIT_LOGGING_ENABLED=true
FEATURE_RATE_LIMITING_ENABLED=true

# =====================================================
# Production Deployment Checklist
# =====================================================
#
# Before deploying to production:
# ✓ Change DATABASE_PASSWORD to a strong password
# ✓ Generate strong JWT_SECRET_KEY (minimum 32 characters)
# ✓ Set ENVIRONMENT=production
# ✓ Set DATABASE_SEED_ENV=production (disables seed data)
# ✓ Configure proper CORS origins
# ✓ Set up HTTPS/SSL
# ✓ Configure backup retention
# ✓ Set up monitoring and alerts
# ✓ Review and adjust resource limits
# ✓ Configure firewall rules
# ✓ Document recovery procedures
#
